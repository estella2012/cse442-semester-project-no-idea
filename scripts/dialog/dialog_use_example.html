<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.6.0/dist/phaser.min.js"></script>

</head>
<body>
    <script type="module">
        // The game config that is used by Phaser

        var config = {
        type: Phaser.AUTO,
        parent: 'phaser-example',
        width: 800,
        height: 600,
        physics: {
        default: 'arcade',
        arcade: {
        gravity: { y: 0 },
        debug: false
        }
        },
        audio: {
        disableWebAudio: true
        },
        scene: {
        preload: preload,
        create: create,

        }
        };

        // Create a new Phaser Game object
        var game = new Phaser.Game(config);



        function preload () {
        this.load.image('sky', 'images/Dinning_r.png');
        this.load.image('dialog', 'images/p1.png');
        this.load.plugin('DialogModalPlugin', './dialog_plugin.js');
       
        }



        function create () {

        this.add.image(400, 230, 'sky');
        var dialog = this.add.sprite(400, 250, 'dialog'); //Music Button
        dialog.setInteractive()

        //  Input Event listeners



        dialog.on('pointerdown', function () {

        this.sys.install('DialogModalPlugin');
        console.log(this.sys.dialogModal);
        this.sys.dialogModal.init();
        this.sys.dialogModal.setText('Prisoner C (cafeteria): How can I get Crane’s things back? Why is he missing anyway?! I just want to bring back his stuff, why there is no one to help us.',true);
        this.sys.dialogModal.NEXTButton('Prisoner C (cafeteria):But who can get these stuffs beside the guard? No one can go to others cell except for the guard. They don’t have to get rid of Crane’s stuffs.');//second next
        //this.sys.dialogModal.setText('!!!!!!!',false);
        
       this.sys.dialogModal.NEXTButton('??????????');//first next
        
 
       //this.sys.dialogModal.setText('Prisoner C (cafeteria): How can I get Crane’s things back? Why is he missing anyway?! I just want to bring back his stuff, why there is no one to help us. But who can get these stuffs beside the guard? No one can go to others cell except for the guard. They don’t have to get rid of Crane’s stuffs.', true);


        }, this);




        }

    </script>
</body>
</html>
